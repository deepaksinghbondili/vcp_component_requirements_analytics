<mvc:View
    xmlns:cards="sap.f.cards"
    xmlns:layout="sap.ui.layout"
    xmlns:cssgrid="sap.ui.layout.cssgrid"
    xmlns:table="sap.ui.table"
    xmlns:smarttable="sap.ui.comp.smarttable"
    xmlns:chart="sap.chart"
    xmlns:smartchart="sap.ui.comp.smartchart"
    xmlns:smartvariants="sap.ui.comp.smartvariants"
    xmlns:data="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns:smartfilterbar="sap.ui.comp.smartfilterbar"
    xmlns:f="sap.f"
    controllerName="vcpapp.vcpcomponentrequirements.controller.Home"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns="sap.m"
>
    <NavContainer id="navContainer">
        <f:DynamicPage id="dynamicPage">
            <f:title>
                <f:DynamicPageTitle>
                    <f:heading>
                        <smartvariants:SmartVariantManagement
                            id="PageVariant"
                            persistencyKey="PageVariant"
                            showShare="true"
                            showExecuteOnSelection="true"
                        />
                    </f:heading>
                </f:DynamicPageTitle>
            </f:title>
            <f:header>
                <f:DynamicPageHeader>
                    <smartfilterbar:SmartFilterBar
                        id="smartFilterBar"
                        entitySet="getComponentReq"
                        showClearOnFB="true"
                        liveMode="true"
                        persistencyKey="PKeyFilterbar"
                        smartVariant="PageVariant"
                    >
                        <smartfilterbar:controlConfiguration>
                            <smartfilterbar:ControlConfiguration
                                key="WEEK_DATE"
                                visibleInAdvancedArea="true"
                            >
                            </smartfilterbar:ControlConfiguration>
                        </smartfilterbar:controlConfiguration>
                    </smartfilterbar:SmartFilterBar>
                </f:DynamicPageHeader>
            </f:header>
            <f:content>
                <VBox>
                    <HBox justifyContent="SpaceBetween">
                        <f:Card
                            id="card1"
                            width="30vw"
                            height="auto"
                        >
                            <f:header>
                                <cards:Header
                                    title="Assembly Components Quantity"
                                    iconSrc="sap-icon://donut-chart"
                                />
                            </f:header>
                            <f:content>
                                <smartchart:SmartChart
                                    height="20vw"
                                    width="100%"
                                    smartFilterId="smartFilterBar"
                                    persistencyKey="PKeyChart"
                                    smartVariant="PageVariant"
                                    entitySet="getComponentReq"
                                    showToolbar="false"
                                    legendVisible="true"
                                    data:chartQualifier="donut"
                                >
                                    <chart:Chart
                                        id="idChartDonut"
                                        selectData="onCardChartItem"
                                        deselectData="onCardChartItem"
                                        width="100%"
                                        height="20vw"
                                    />
                                </smartchart:SmartChart>
                            </f:content>
                        </f:Card>
                        <f:Card
                            id="card2"
                            width="60vw"
                            height="auto"
                        >
                            <f:header>
                                <cards:Header
                                    title="Assembly Requirements"
                                    iconSrc="sap-icon://heatmap-chart"
                                />
                            </f:header>
                            <f:content>
                                <smartchart:SmartChart
                                    height="20vw"
                                    width="100%"
                                    smartFilterId="smartFilterBar"
                                    entitySet="getComponentReq"
                                    showToolbar="false"
                                    legendVisible="false"
                                    persistencyKey="PKeyChart"
                                    smartVariant="PageVariant"
                                    data:chartQualifier="heat"
                                >
                                    <chart:Chart
                                        id="idChartHeat"
                                        selectData="onCardChartItem"
                                        deselectData="onCardChartItem"
                                        width="100%"
                                        height="20vw"
                                    />
                                </smartchart:SmartChart>
                            </f:content>
                        </f:Card>
                    </HBox>
                    <Panel
                        expanded="true"
                        height="40vw"
                        class="panel"
                    >
                        <smartchart:SmartChart
                            id="smartChart"
                            class="mainChart"
                            height="30vw"
                            smartFilterId="smartFilterBar"
                            showDownloadButton="true"
                            enableAutoBinding="true"
                            entitySet="getComponentReq"
                            smartVariant="PageVariant"
                            toolbarStyle="Clear"
                            persistencyKey="PKeyChart"
                            legendVisible="false"
                            backgroundDesign="Transparent"
                            useVariantManagement="true"
                            useChartPersonalisation="true"
                            header="{i18n>chartTitle}"
                            showFullScreenButton="false"
                            selectionMode="Multi"
                            showDrillBreadcrumbs="true"
                            showSemanticNavigationButton="false"
                        >
                            <smartchart:layoutData />
                            <chart:Chart
                                id="idChart"
                                selectData="onSelectChartItem"
                                deselectData="onSelectChartItem"
                                width="100%"
                                height="30vw"
                            />
                        </smartchart:SmartChart>
                    </Panel>
                    <smarttable:SmartTable
                        id="smartTable"
                        height="auto"
                        width="100%"
                        class="customTable"
                        backgroundDesign="Transparent"
                        displayInline="true"
                        enableAutoBinding="true"
                        entitySet="getComponentReq"
                        smartFilterId="smartFilterBar"
                        tableType="AnalyticalTable"
                        smartVariant="PageVariant"
                        persistencyKey="PKeyTable"
                        useVariantManagement="true"
                        header="Items"
                        showRowCount="true"
                        enableAutoColumnWidth="true"
                        showFullScreenButton="true"
                        beforeRebindTable="onBeforeReBind"
                    >
                        <table:AnalyticalTable
                            id="idTable"
                            rowSelectionChange="onTableSelection"
                            selectionMode="Single"
                            visibleRowCountMode="Auto"
                        />
                    </smarttable:SmartTable>
                </VBox>
            </f:content>
        </f:DynamicPage>
        <Page
            id="Page1"
            showNavButton="true"
            navButtonPress="onNavBtnPress"
        >
            <content>
                <VBox
                    id="filterContainer"
                    justifyContent="SpaceBetween"
                />
                <VBox
                    id="listContainer"
                    justifyContent="SpaceAround"
                />
                <VBox
                    id="chartContainer"
                    justifyContent="SpaceAround"
                />
            </content>
        </Page>
    </NavContainer>
</mvc:View>

